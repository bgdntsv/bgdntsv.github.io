{"ast":null,"code":"import { profileAPI } from \"../api/api\";\nconst ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nconst SET_USER_PAGE = 'SET_USER_PAGE';\nlet initialStore = {\n  posts: [{\n    text: 'Hi, how are you?',\n    id: '1',\n    likes: 15,\n    img: 'https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg'\n  }, {\n    text: 'Oh, thanks. I\\'m fine)',\n    id: '2',\n    likes: 25,\n    img: 'https://shapka-youtube.ru/wp-content/uploads/2020/07/letter-s-1.jpg'\n  }],\n  newPostText: '',\n  profile: null,\n  isFetching: false\n};\n\nconst profileReducer = (state = initialStore, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        text: state.newPostText,\n        id: 5,\n        likes: 0,\n        img: 'https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg'\n      };\n      return { ...state,\n        posts: [...state.posts, newPost],\n        newPostText: ''\n      };\n\n    case UPDATE_NEW_POST_TEXT:\n      return { ...state,\n        newPostText: action.newText\n      };\n\n    case SET_USER_PAGE:\n      return { ...state,\n        profile: action.profile\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = () => ({\n  type: ADD_POST\n});\n\nconst setUserPage = profile => ({\n  type: SET_USER_PAGE,\n  profile\n});\n\nexport const updateNewPostTextActionCreator = text => ({\n  type: UPDATE_NEW_POST_TEXT,\n  newText: text\n});\nexport default profileReducer;\nexport const selectedUser = userId => {\n  return dispatch => {\n    profileAPI.getProfile(userId).then(response => {\n      dispatch(setUserPage(response));\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/art23/Desktop/react/first/src/redux/profileReducer.js"],"names":["profileAPI","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PAGE","initialStore","posts","text","id","likes","img","newPostText","profile","isFetching","profileReducer","state","action","type","newPost","newText","addPostActionCreator","setUserPage","updateNewPostTextActionCreator","selectedUser","userId","dispatch","getProfile","then","response"],"mappings":"AAAA,SAAQA,UAAR,QAAyB,YAAzB;AAEA,MAAMC,QAAQ,GAAG,UAAjB;AACA,MAAMC,oBAAoB,GAAG,sBAA7B;AACA,MAAMC,aAAa,GAAG,eAAtB;AAEA,IAAIC,YAAY,GAAG;AACfC,EAAAA,KAAK,EAAE,CACH;AACIC,IAAAA,IAAI,EAAE,kBADV;AAEIC,IAAAA,EAAE,EAAE,GAFR;AAGIC,IAAAA,KAAK,EAAE,EAHX;AAIIC,IAAAA,GAAG,EAAE;AAJT,GADG,EAOH;AACIH,IAAAA,IAAI,EAAE,wBADV;AAEIC,IAAAA,EAAE,EAAE,GAFR;AAGIC,IAAAA,KAAK,EAAE,EAHX;AAIIC,IAAAA,GAAG,EAAE;AAJT,GAPG,CADQ;AAefC,EAAAA,WAAW,EAAE,EAfE;AAgBfC,EAAAA,OAAO,EAAC,IAhBO;AAiBfC,EAAAA,UAAU,EAAE;AAjBG,CAAnB;;AAmBA,MAAMC,cAAc,GAAG,CAACC,KAAK,GAAGV,YAAT,EAAuBW,MAAvB,KAAkC;AACrD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKf,QAAL;AACI,UAAIgB,OAAO,GAAG;AACVX,QAAAA,IAAI,EAAEQ,KAAK,CAACJ,WADF;AAEVH,QAAAA,EAAE,EAAE,CAFM;AAGVC,QAAAA,KAAK,EAAE,CAHG;AAIVC,QAAAA,GAAG,EAAE;AAJK,OAAd;AAMD,aAAO,EACF,GAAGK,KADD;AAEFT,QAAAA,KAAK,EAAE,CAAC,GAAGS,KAAK,CAACT,KAAV,EAAiBY,OAAjB,CAFL;AAGHP,QAAAA,WAAW,EAAE;AAHV,OAAP;;AAKH,SAAKR,oBAAL;AACI,aAAQ,EACJ,GAAGY,KADC;AAEJJ,QAAAA,WAAW,EAAEK,MAAM,CAACG;AAFhB,OAAR;;AAIJ,SAAKf,aAAL;AACI,aAAO,EAAC,GAAGW,KAAJ;AAAWH,QAAAA,OAAO,EAAEI,MAAM,CAACJ;AAA3B,OAAP;;AACJ;AACI,aAAOG,KAAP;AArBR;AAuBH,CAxBD;;AA0BA,OAAO,MAAMK,oBAAoB,GAAG,OAAO;AAACH,EAAAA,IAAI,EAAEf;AAAP,CAAP,CAA7B;;AACP,MAAMmB,WAAW,GAAIT,OAAD,KAAc;AAACK,EAAAA,IAAI,EAAEb,aAAP;AAAsBQ,EAAAA;AAAtB,CAAd,CAApB;;AACA,OAAO,MAAMU,8BAA8B,GAAIf,IAAD,KAAW;AAACU,EAAAA,IAAI,EAAEd,oBAAP;AAA6BgB,EAAAA,OAAO,EAAEZ;AAAtC,CAAX,CAAvC;AAEP,eAAeO,cAAf;AAEA,OAAO,MAAMS,YAAY,GAAIC,MAAD,IAAY;AACpC,SAAQC,QAAD,IAAa;AAChBxB,IAAAA,UAAU,CAACyB,UAAX,CAAsBF,MAAtB,EAA8BG,IAA9B,CAAmCC,QAAQ,IAAI;AAC3CH,MAAAA,QAAQ,CAACJ,WAAW,CAACO,QAAD,CAAZ,CAAR;AACH,KAFD;AAGH,GAJD;AAKH,CANM","sourcesContent":["import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\r\nconst SET_USER_PAGE = 'SET_USER_PAGE'\r\n\r\nlet initialStore = {\r\n    posts: [\r\n        {\r\n            text: 'Hi, how are you?',\r\n            id: '1',\r\n            likes: 15,\r\n            img: 'https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg'\r\n        },\r\n        {\r\n            text: 'Oh, thanks. I\\'m fine)',\r\n            id: '2',\r\n            likes: 25,\r\n            img: 'https://shapka-youtube.ru/wp-content/uploads/2020/07/letter-s-1.jpg'\r\n        }\r\n    ],\r\n    newPostText: '',\r\n    profile:null,\r\n    isFetching: false\r\n}\r\nconst profileReducer = (state = initialStore, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                text: state.newPostText,\r\n                id: 5,\r\n                likes: 0,\r\n                img: 'https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg'\r\n            }\r\n           return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n               newPostText: ''\r\n           }\r\n        case UPDATE_NEW_POST_TEXT:\r\n            return  {\r\n                ...state,\r\n                newPostText: action.newText\r\n            }\r\n        case SET_USER_PAGE:\r\n            return {...state, profile: action.profile}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = () => ({type: ADD_POST})\r\nconst setUserPage = (profile) => ({type: SET_USER_PAGE, profile})\r\nexport const updateNewPostTextActionCreator = (text) => ({type: UPDATE_NEW_POST_TEXT, newText: text})\r\n\r\nexport default profileReducer;\r\n\r\nexport const selectedUser = (userId) => {\r\n    return (dispatch) =>{\r\n        profileAPI.getProfile(userId).then(response => {\r\n            dispatch(setUserPage(response))\r\n        })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}