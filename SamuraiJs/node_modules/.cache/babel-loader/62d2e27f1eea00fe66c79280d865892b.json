{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\art23\\\\Desktop\\\\react\\\\first\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\art23\\\\Desktop\\\\react\\\\first\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"C:\\\\Users\\\\art23\\\\Desktop\\\\react\\\\first\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\art23\\\\Desktop\\\\react\\\\first\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{profileAPI}from'../api/api';var ADD_POST='ADD-POST';var SET_USER_PAGE='SET_USER_PAGE';var SET_STATUS='SET_STATUS';var DELETE_POST='DELETE_POST';var SAVE_PHOTO='SAVE_PHOTO';var initialStore={posts:[{text:'Hi, how are you?',id:'1',likes:15,img:'https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg'},{text:'Oh, thanks. I\\'m fine)',id:'2',likes:25,img:'https://shapka-youtube.ru/wp-content/uploads/2020/07/letter-s-1.jpg'}],newPostText:'',profile:null,status:''};var profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialStore;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_POST:var newPost={text:action.postText,id:5,likes:0,img:'https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg'};return _objectSpread(_objectSpread({},state),{},{posts:[].concat(_toConsumableArray(state.posts),[newPost]),newPostText:''});case DELETE_POST:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(p){return p.id!==action.postID;})});case SET_USER_PAGE:return _objectSpread(_objectSpread({},state),{},{profile:action.profile});case SET_STATUS:return _objectSpread(_objectSpread({},state),{},{status:action.status});case SAVE_PHOTO:return _objectSpread(_objectSpread({},state),{},{profile:_objectSpread(_objectSpread({},state.profile),{},{photos:action.photos})});default:return state;}};export var addPostActionCreator=function addPostActionCreator(postText){return{type:ADD_POST,postText:postText};};var setUserPage=function setUserPage(profile){return{type:SET_USER_PAGE,profile:profile};};var setStatus=function setStatus(status){return{type:SET_STATUS,status:status};};export var deletePost=function deletePost(postID){return{type:DELETE_POST,postID:postID};};var savePhotoSuccess=function savePhotoSuccess(photos){return{type:SAVE_PHOTO,photos:photos};};export var selectedUser=function selectedUser(userId){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return profileAPI.getProfile(userId);case 2:response=_context.sent;dispatch(setUserPage(response));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getStatus=function getStatus(userId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return profileAPI.getStatus(userId);case 2:response=_context2.sent;dispatch(setStatus(response.data));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var updateStatus=function updateStatus(status){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return profileAPI.updateStatus(status);case 2:response=_context3.sent;if(response.resultCode===0){dispatch(setStatus(status));}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var savePhoto=function savePhoto(file){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return profileAPI.savePhoto(file);case 2:response=_context4.sent;if(response.data.resultCode===0){dispatch(savePhotoSuccess(response.data.data.photos));}case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export default profileReducer;","map":{"version":3,"sources":["C:/Users/art23/Desktop/react/first/src/redux/profileReducer.js"],"names":["profileAPI","ADD_POST","SET_USER_PAGE","SET_STATUS","DELETE_POST","SAVE_PHOTO","initialStore","posts","text","id","likes","img","newPostText","profile","status","profileReducer","state","action","type","newPost","postText","filter","p","postID","photos","addPostActionCreator","setUserPage","setStatus","deletePost","savePhotoSuccess","selectedUser","userId","dispatch","getProfile","response","getStatus","data","updateStatus","resultCode","savePhoto","file"],"mappings":"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","sourcesContent":["import {profileAPI} from '../api/api'\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PAGE = 'SET_USER_PAGE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO = 'SAVE_PHOTO'\r\nlet initialStore = {\r\n    posts: [\r\n        {\r\n            text: 'Hi, how are you?',\r\n            id: '1',\r\n            likes: 15,\r\n            img: 'https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg'\r\n        },\r\n        {\r\n            text: 'Oh, thanks. I\\'m fine)',\r\n            id: '2',\r\n            likes: 25,\r\n            img: 'https://shapka-youtube.ru/wp-content/uploads/2020/07/letter-s-1.jpg'\r\n        }\r\n    ],\r\n    newPostText: '',\r\n    profile: null,\r\n    status: ''\r\n}\r\nconst profileReducer = (state = initialStore, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                text: action.postText,\r\n                id: 5,\r\n                likes: 0,\r\n                img: 'https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg'\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            }\r\n        case DELETE_POST:\r\n            return {...state, posts: state.posts.filter(p => p.id !== action.postID)}\r\n        case SET_USER_PAGE:\r\n            return {...state, profile: action.profile}\r\n        case SET_STATUS:\r\n            return {...state, status: action.status}\r\n        case SAVE_PHOTO:\r\n            return {...state, profile:{...state.profile,photos:action.photos}}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (postText) => ({type: ADD_POST, postText})\r\nconst setUserPage = (profile) => ({type: SET_USER_PAGE, profile})\r\nconst setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postID) => ({type: DELETE_POST, postID})\r\nconst savePhotoSuccess = (photos) => ({type: SAVE_PHOTO, photos})\r\n\r\n\r\n\r\nexport const selectedUser = (userId) =>\r\n    async (dispatch) => {\r\n        let response = await profileAPI.getProfile(userId)\r\n        dispatch(setUserPage(response))\r\n    }\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.resultCode === 0) {\r\n\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport default profileReducer"]},"metadata":{},"sourceType":"module"}