{"ast":null,"code":"import { profileAPI } from '../api/api';\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PAGE = 'SET_USER_PAGE';\nconst SET_STATUS = 'SET_STATUS';\nconst DELETE_POST = 'DELETE_POST';\nconst SAVE_PHOTO = 'SAVE_PHOTO';\nconst UPDATING = 'UPDATING';\nlet initialStore = {\n  posts: [{\n    text: 'Hi, how are you?',\n    id: '1',\n    likes: 15,\n    img: 'https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg'\n  }, {\n    text: 'Oh, thanks. I\\'m fine)',\n    id: '2',\n    likes: 25,\n    img: 'https://shapka-youtube.ru/wp-content/uploads/2020/07/letter-s-1.jpg'\n  }],\n  newPostText: '',\n  profile: null,\n  status: '',\n  updateMode: false\n};\n\nconst profileReducer = (state = initialStore, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        text: action.postText,\n        id: 5,\n        likes: 0,\n        img: 'https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg'\n      };\n      return { ...state,\n        posts: [...state.posts, newPost],\n        newPostText: ''\n      };\n\n    case DELETE_POST:\n      return { ...state,\n        posts: state.posts.filter(p => p.id !== action.postID)\n      };\n\n    case SET_USER_PAGE:\n      return { ...state,\n        profile: action.profile\n      };\n\n    case SET_STATUS:\n      return { ...state,\n        status: action.status\n      };\n\n    case SAVE_PHOTO:\n      return { ...state,\n        profile: { ...state.profile,\n          photos: action.photos\n        }\n      };\n\n    case UPDATING:\n      return { ...state,\n        updateMode: !action.updateMode\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = postText => ({\n  type: ADD_POST,\n  postText\n});\n\nconst setUserPage = profile => ({\n  type: SET_USER_PAGE,\n  profile\n});\n\nconst setStatus = status => ({\n  type: SET_STATUS,\n  status\n});\n\nexport const deletePost = postID => ({\n  type: DELETE_POST,\n  postID\n});\n\nconst savePhotoSuccess = photos => ({\n  type: SAVE_PHOTO,\n  photos\n});\n\nconst updatingCreator = updateMode => ({\n  type: UPDATING,\n  updateMode\n});\n\nexport const selectedUser = userId => async dispatch => {\n  let response = await profileAPI.getProfile(userId);\n  dispatch(setUserPage(response));\n};\nexport const getStatus = userId => async dispatch => {\n  let response = await profileAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n};\nexport const updateStatus = status => async dispatch => {\n  let response = await profileAPI.updateStatus(status);\n\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\nexport const savePhoto = file => async dispatch => {\n  let response = await profileAPI.savePhoto(file);\n\n  if (response.data.resultCode === 0) {\n    dispatch(savePhotoSuccess(response.data.data.photos));\n  }\n};\nexport const updating = updateMode => dispatch => {\n  dispatch(updatingCreator(updateMode));\n};\nexport default profileReducer;","map":{"version":3,"sources":["C:/Users/art23/Desktop/react/first/src/redux/profileReducer.js"],"names":["profileAPI","ADD_POST","SET_USER_PAGE","SET_STATUS","DELETE_POST","SAVE_PHOTO","UPDATING","initialStore","posts","text","id","likes","img","newPostText","profile","status","updateMode","profileReducer","state","action","type","newPost","postText","filter","p","postID","photos","addPostActionCreator","setUserPage","setStatus","deletePost","savePhotoSuccess","updatingCreator","selectedUser","userId","dispatch","response","getProfile","getStatus","data","updateStatus","resultCode","savePhoto","file","updating"],"mappings":"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","sourcesContent":["import {profileAPI} from '../api/api'\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PAGE = 'SET_USER_PAGE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO = 'SAVE_PHOTO'\r\nconst UPDATING = 'UPDATING'\r\n\r\nlet initialStore = {\r\n    posts: [\r\n        {\r\n            text: 'Hi, how are you?',\r\n            id: '1',\r\n            likes: 15,\r\n            img: 'https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg'\r\n        },\r\n        {\r\n            text: 'Oh, thanks. I\\'m fine)',\r\n            id: '2',\r\n            likes: 25,\r\n            img: 'https://shapka-youtube.ru/wp-content/uploads/2020/07/letter-s-1.jpg'\r\n        }\r\n    ],\r\n    newPostText: '',\r\n    profile: null,\r\n    status: '',\r\n    updateMode:false\r\n}\r\nconst profileReducer = (state = initialStore, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                text: action.postText,\r\n                id: 5,\r\n                likes: 0,\r\n                img: 'https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg'\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            }\r\n        case DELETE_POST:\r\n            return {...state, posts: state.posts.filter(p => p.id !== action.postID)}\r\n        case SET_USER_PAGE:\r\n            return {...state, profile: action.profile}\r\n        case SET_STATUS:\r\n            return {...state, status: action.status}\r\n        case SAVE_PHOTO:\r\n            return {...state, profile:{...state.profile,photos:action.photos}}\r\n        case UPDATING:\r\n            return {...state, updateMode:!action.updateMode }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (postText) => ({type: ADD_POST, postText})\r\nconst setUserPage = (profile) => ({type: SET_USER_PAGE, profile})\r\nconst setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postID) => ({type: DELETE_POST, postID})\r\nconst savePhotoSuccess = (photos) => ({type: SAVE_PHOTO, photos})\r\nconst updatingCreator = (updateMode) => ({type: UPDATING, updateMode})\r\n\r\n\r\n\r\nexport const selectedUser = (userId) =>\r\n    async (dispatch) => {\r\n        let response = await profileAPI.getProfile(userId)\r\n        dispatch(setUserPage(response))\r\n    }\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\nexport const updating = (updateMode)=>(dispatch)=>{\r\n    dispatch(updatingCreator(updateMode))\r\n}\r\nexport default profileReducer"]},"metadata":{},"sourceType":"module"}